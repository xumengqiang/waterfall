(function(t){function o(o){for(var a,r,p=o[0],c=o[1],l=o[2],s=0,d=[];s<p.length;s++)r=p[s],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(o);while(d.length)d.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,o=0;o<i.length;o++){for(var e=i[o],a=!0,p=1;p<e.length;p++){var c=e[p];0!==n[c]&&(a=!1)}a&&(i.splice(o--,1),t=r(r.s=e[0]))}return t}var a={},n={app:0},i=[];function r(o){if(a[o])return a[o].exports;var e=a[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=a,r.d=function(t,o,e){r.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,o){if(1&o&&(t=r(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var a in t)r.d(e,a,function(o){return t[o]}.bind(null,a));return e},r.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(o,"a",o),o},r.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},r.p="/waterfall/";var p=window["webpackJsonp"]=window["webpackJsonp"]||[],c=p.push.bind(p);p.push=o,p=p.slice();for(var l=0;l<p.length;l++)o(p[l]);var h=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"034f":function(t,o,e){"use strict";e("85ec")},"22a3":function(t,o,e){},"56d7":function(t,o,e){"use strict";e.r(o);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"app"}},[e("Waterfall")],1)},i=[],r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"v-waterfall-content"},t._l(t.waterfallList,(function(o,a){return e("div",{key:a,staticClass:"v-waterfall-item",style:{top:o.top+"px",left:o.left+"px",width:t.waterfallImgWidth+"px",height:o.height+"px"}},[e("img",{attrs:{src:o.src,alt:""}})])})),0)},p=[],c=e("1da1");e("96cf"),e("3ca3"),e("ddb0"),e("d3b7"),e("fb6a");function l(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,e=null;return function(){var a=arguments;e&&clearTimeout(e),e=setTimeout((function(){t.apply(a)}),o)}}var h=["https://cdn.pixabay.com/photo/2016/10/16/10/19/play-stone-1744790_960_720.jpg","https://cdn.pixabay.com/photo/2016/11/22/06/27/girl-1848472_960_720.jpg","https://cdn.pixabay.com/photo/2015/03/26/09/46/car-690275_960_720.jpg","https://cdn.pixabay.com/photo/2016/04/21/22/29/portrait-1344645_960_720.jpg","https://cdn.pixabay.com/photo/2016/06/16/02/26/character-1460508_960_720.jpg","https://cdn.pixabay.com/photo/2016/04/01/10/59/boy-1300136_960_720.png","https://cdn.pixabay.com/photo/2016/10/13/00/22/illustration-1736462_960_720.png","https://cdn.pixabay.com/photo/2017/01/31/00/10/cartoon-2022468_960_720.png","https://cdn.pixabay.com/photo/2014/05/03/00/56/summerfield-336672_960_720.jpg","https://cdn.pixabay.com/photo/2015/04/19/08/32/rose-729509_960_720.jpg","https://cdn.pixabay.com/photo/2018/01/13/19/39/fashion-3080644_960_720.jpg","https://cdn.pixabay.com/photo/2017/03/05/23/14/girl-2120196_960_720.jpg","https://cdn.pixabay.com/photo/2017/01/18/17/14/girl-1990347_960_720.jpg","https://cdn.pixabay.com/photo/2018/03/06/22/57/portrait-3204843_960_720.jpg","https://cdn.pixabay.com/photo/2016/05/03/16/10/morning-1369446_960_720.jpg","https://cdn.pixabay.com/photo/2019/06/02/17/27/summer-4246927_960_720.jpg","https://cdn.pixabay.com/photo/2016/03/09/12/04/woman-1246267_960_720.jpg","https://cdn.pixabay.com/photo/2016/03/27/19/57/cold-1284028_960_720.jpg","https://cdn.pixabay.com/photo/2015/12/08/00/43/woman-1081972_960_720.jpg","https://cdn.pixabay.com/photo/2016/10/14/23/17/girl-lying-on-the-grass-1741487_960_720.jpg","https://cdn.pixabay.com/photo/2017/08/22/17/45/girl-2669890_960_720.jpg","https://cdn.pixabay.com/photo/2019/05/06/20/23/tulips-4184171_960_720.jpg","https://cdn.pixabay.com/photo/2016/10/16/13/46/mill-1745186_960_720.jpg","https://cdn.pixabay.com/photo/2017/03/15/20/40/morning-2147400_960_720.jpg","https://cdn.pixabay.com/photo/2016/11/29/06/46/adult-1867889_960_720.jpg","https://cdn.pixabay.com/photo/2019/02/20/12/31/woman-4009096_960_720.jpg","https://cdn.pixabay.com/photo/2019/06/01/15/52/daisies-4244452_960_720.jpg","https://cdn.pixabay.com/photo/2016/05/13/18/51/wet-girl-1390623_960_720.jpg","https://cdn.pixabay.com/photo/2017/01/04/20/35/girl-1953208_960_720.jpg","https://cdn.pixabay.com/photo/2015/01/17/12/11/girls-602168_960_720.jpg","https://cdn.pixabay.com/photo/2018/04/09/10/07/woman-3303696_960_720.jpg","https://cdn.pixabay.com/photo/2014/12/30/13/19/girls-583917_960_720.jpg","https://cdn.pixabay.com/photo/2015/05/20/12/40/girl-775342_960_720.jpg","https://cdn.pixabay.com/photo/2016/12/03/14/20/woman-1879905_960_720.jpg","https://cdn.pixabay.com/photo/2016/07/22/21/39/girl-1535856_960_720.jpg","https://cdn.pixabay.com/photo/2018/10/18/12/04/girl-3756210_960_720.jpg","https://cdn.pixabay.com/photo/2016/05/10/01/58/girl-at-computer-1382934_960_720.jpg","https://cdn.pixabay.com/photo/2018/04/06/10/12/woman-3295415_960_720.jpg","https://cdn.pixabay.com/photo/2015/06/09/20/36/portrait-804062_960_720.jpg","https://cdn.pixabay.com/photo/2017/03/13/00/59/woman-2138534_960_720.jpg","https://cdn.pixabay.com/photo/2018/04/09/10/10/woman-3303709_960_720.jpg","https://cdn.pixabay.com/photo/2015/03/28/00/39/woman-695456_960_720.jpg","https://cdn.pixabay.com/photo/2017/10/02/12/10/women-2808629_960_720.jpg","https://cdn.pixabay.com/photo/2014/12/03/17/45/girls-555650_960_720.jpg","https://cdn.pixabay.com/photo/2016/11/29/06/46/adult-1867889_960_720.jpg","https://cdn.pixabay.com/photo/2018/07/21/19/51/horse-3553269_960_720.jpg"],s=h,d={name:"v-waterfall",data:function(){return{waterfallImgWidth:250,waterfallImgCol:0,waterfallImgRight:10,waterfallImgBottom:10,imgArr:s,waterfallList:[],waterfallDeviationHeight:[]}},mounted:function(){var t=this;this.waterFall(),window.addEventListener("resize",l((function(){t.waterfallImgWidth=250,t.waterfallList=[],t.waterFall()}),1e3)),window.addEventListener("scroll",l((function(){t.onScroll()}),1e3))},methods:{waterFall:function(){var t=this.getClient().width-10;this.waterfallImgCol=parseInt(t/(this.waterfallImgWidth+this.waterfallImgRight)),this.waterfallImgWidth=parseInt(t%(this.waterfallImgWidth+this.waterfallImgRight)/this.waterfallImgCol)+this.waterfallImgWidth,this.waterfallDeviationHeight=new Array(this.waterfallImgCol);for(var o=0;o<this.waterfallDeviationHeight.length;o++)this.waterfallDeviationHeight[o]=0;this.imgPreloading()},imgPreloading:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function o(){var e,a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:e=regeneratorRuntime.mark((function o(e){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,new Promise((function(o){var a=new Image;a.src=t.imgArr[e],a.onload=function(){var n={};n.height=t.waterfallImgWidth/a.width*a.height,n.src=t.imgArr[e],t.waterfallList.push(n),t.rankImg(n),o()}}));case 2:case"end":return o.stop()}}),o)})),a=0;case 2:if(!(a<t.imgArr.length)){o.next=7;break}return o.delegateYield(e(a),"t0",4);case 4:a++,o.next=2;break;case 7:case"end":return o.stop()}}),o)})))()},rankImg:function(t){var o=this.waterfallImgWidth,e=this.waterfallImgRight,a=this.waterfallImgBottom,n=this.waterfallDeviationHeight,i=this.waterfallDeviationHeight.indexOf(Math.min.apply(null,this.waterfallDeviationHeight));t.top=n[i],t.left=i*(e+o),n[i]+=t.height+a},getClient:function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},onScroll:function(){var t=document.documentElement.scrollTop||document.body.scrollTop+document.documentElement.clientHeight>=document.documentElement.scrollHeight-100;t&&(console.log("到底了"),this.imgArr=s.slice(Math.round(10*Math.random()),Math.round(10*Math.random())+40),this.imgPreloading())}},destroyed:function(){window.removeEventListener("scroll",this.onScroll,!1),window.removeEventListener("resize",this.waterFall,!1)}},m=d,g=(e("d9bd"),e("2877")),u=Object(g["a"])(m,r,p,!1,null,null,null),f=u.exports,_={name:"App",components:{Waterfall:f}},w=_,b=(e("034f"),Object(g["a"])(w,n,i,!1,null,null,null)),y=b.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(y)}}).$mount("#app")},"85ec":function(t,o,e){},d9bd:function(t,o,e){"use strict";e("22a3")}});
//# sourceMappingURL=app.6ae3252e.js.map